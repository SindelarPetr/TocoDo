<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
			 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 xmlns:customRenderers="clr-namespace:TocoDo.CustomRenderers;assembly=TocoDo"
			 xmlns:views="clr-namespace:TocoDo.Views;assembly=TocoDo"
			 xmlns:tocoDo="clr-namespace:TocoDo;assembly=TocoDo"
			 xmlns:markupExtensions="clr-namespace:TocoDo.MarkupExtensions;assembly=TocoDo"
			 xmlns:habits="clr-namespace:TocoDo.Converters.Habits;assembly=TocoDo"
			 xmlns:converters="clr-namespace:TocoDo.Converters;assembly=TocoDo"
			 x:Class="TocoDo.Pages.Habits.ModifyHabitPage"
			 Title="Modify the habit">
	<ContentPage.Resources>
		<ResourceDictionary>
			<habits:HabitStartDateConverter x:Key="HabitStartDateConverter"/>
			<converters:IsSettedValueToColorConverter x:Key="IsSettedValueToColorConverter"/>
			<converters:IsNotNullConverter x:Key="IsNotNullConverter" />
		</ResourceDictionary>
	</ContentPage.Resources>
	<ContentPage.Content>
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="*"/>
				<RowDefinition Height="Auto"/>
			</Grid.RowDefinitions>

			<!--Top Panel-->
			<Frame Margin="0" CornerRadius="0" HasShadow="False" Padding="16,5,0,0" OutlineColor="{StaticResource ColorPrimaryLight}"
				   BackgroundColor="{StaticResource ColorPrimaryLight}">
				<customRenderers:NoLineEntry x:Name="EntryTitle" Text="{Binding ModelTitle, Mode=OneWay}" HorizontalOptions="FillAndExpand" TextColor="White" Unfocused="EntryTitle_OnUnfocused" />
			</Frame>

			<!--Body-->
			<ScrollView Grid.Row="1">
				<!--Start and repeat-->
				<Frame Margin="0">
					<views:IconButton ImageSource="{markupExtensions:PathResolver 'ic_today_white_24dp'}" 
					                  ClickCommand="{Binding SelectStartDateCommand}" 
					                  IsRemoveButtonVisible="{Binding ModelStartDate, Converter={StaticResource IsNotNullConverter}}"           
					                  Text="{Binding ModelStartDate, Converter={StaticResource HabitStartDateConverter}}"                           
					                  RemoveCommand="{Binding UnsetStartDateCommand}" 
					                  Color="{Binding ModelStartDate, Converter={StaticResource IsSettedValueToColorConverter}}"/>
				</Frame>

				
			</ScrollView>
		</Grid>
	</ContentPage.Content>
</ContentPage>