<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
			 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
			 xmlns:views="clr-namespace:TocoDo.Views;assembly=TocoDo"
			 xmlns:markupExtensions="clr-namespace:TocoDo.MarkupExtensions;assembly=TocoDo"
			 xmlns:services="clr-namespace:TocoDo.Services;assembly=TocoDo"
			 xmlns:system1="clr-namespace:System;assembly=netstandard"
			 xmlns:abstractions="clr-namespace:Plugin.CrossPlatformTintedImage.Abstractions;assembly=Plugin.CrossPlatformTintedImage.Abstractions"
			 xmlns:customRenderers="clr-namespace:TocoDo.CustomRenderers;assembly=TocoDo"
			 xmlns:microcharts="clr-namespace:Microcharts.Forms;assembly=Microcharts.Forms"
			 x:Class="TocoDo.Pages.Main.TodayPage"
			 x:Name="This">
	<ContentPage.Resources>
		<ResourceDictionary>
			<Style x:Key="GraphNotes" TargetType="Label">
				<Setter Property="FontSize" Value="9" />
				<Setter Property="TextColor" Value="Gray"/>
			</Style>
		</ResourceDictionary>
	</ContentPage.Resources>
	<ContentPage.Content>
		<AbsoluteLayout VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand" BindingContext="{x:Reference This}">
			<ScrollView AbsoluteLayout.LayoutBounds="0,0,1,1" AbsoluteLayout.LayoutFlags="All">
				<Grid Style="{StaticResource PageGrid}">
					<Grid.RowDefinitions>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="Auto"/>
						<RowDefinition Height="*"/>
					</Grid.RowDefinitions>
					<!--Progress-->
					<!--<Label Text="Progress" Style="{StaticResource FrameTitle}" />-->
					<StackLayout Padding="-10,0,-10,0" VerticalOptions="FillAndExpand" HeightRequest="150">
								<microcharts:ChartView x:Name="ChartProgress" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand" BackgroundColor="Transparent" Margin="0"/>
							</StackLayout>
					<!--<Frame HorizontalOptions="FillAndExpand" HeightRequest="110" Padding="0">
						<StackLayout Padding="0,0,0,0" VerticalOptions="FillAndExpand" HorizontalOptions="FillAndExpand">
							
							<StackLayout Orientation="Horizontal" Padding="15,0,15,0" VerticalOptions="End">
								<Label Style="{StaticResource GraphNotes}" Text="2630 completed" HorizontalOptions="FillAndExpand"
								       HorizontalTextAlignment="Start" />
								<Label Style="{StaticResource GraphNotes}" Text="Average 6.2 task a day" />
							</StackLayout>
						</StackLayout>
					</Frame>-->

					<!--TODAY-->
					<Label Grid.Row="1" Grid.Column="0" Text="Today" Style="{StaticResource FrameTitle}" HorizontalOptions="FillAndExpand" />
					<Frame Grid.Row="2" Grid.Column="0">
						<views:TodoSetView TasksSource="{x:Static services:StorageService.TodayTasks}" VerticalOptions="Start"/>
					</Frame>
				</Grid>
			</ScrollView>

			<customRenderers:FloatingAddButton AbsoluteLayout.LayoutBounds="1,1,88,88" AbsoluteLayout.LayoutFlags="PositionProportional" Margin="16" Clicked="ButtonAddToday_OnClicked" />

			<views:NewTaskView x:Name="NewTaskView" AbsoluteLayout.LayoutBounds="1,1,1,50" AbsoluteLayout.LayoutFlags="PositionProportional,WidthProportional"/>
			<DatePicker x:Name="GlobalDatePicker" IsVisible="False"  DateSelected="GlobalDatePicker_DateSelected" />
			<TimePicker x:Name="GlobalTimePicker" IsVisible="False" Time="{Binding SelectedTime}" PropertyChanged="GlobalTimePicker_OnPropertyChanged"/>
		</AbsoluteLayout>
	</ContentPage.Content>
</ContentPage>